{"project":"joyent/sdc-adminui","branch":"master","id":"I321b088ab496700694aa2cc06a903ce01ff37784","number":"2227","subject":"ADMINUI-2314: Upgrade Node.js version from 0.10 to 4.x Reviewed by: Angela Fong \u003cangela.fong@joyent.com\u003e Reviewed by: Pedro P. Candel \u003cpedro@joyent.com\u003e","owner":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"url":"https://cr.joyent.us/2227","commitMessage":"ADMINUI-2314: Upgrade Node.js version from 0.10 to 4.x\nReviewed by: Angela Fong \u003cangela.fong@joyent.com\u003e\nReviewed by: Pedro P. Candel \u003cpedro@joyent.com\u003e\n","createdOn":1500377043,"lastUpdated":1503436935,"open":false,"status":"MERGED","comments":[{"timestamp":1500377043,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 1."},{"timestamp":1500377069,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1501065348,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 2."},{"timestamp":1501065374,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1502104598,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 3."},{"timestamp":1502104631,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1502343913,"reviewer":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},"message":"Patch Set 3: Code-Review+1"},{"timestamp":1502365873,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 4: Commit message was updated."},{"timestamp":1502711866,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 5: Patch Set 4 was rebased"},{"timestamp":1502711893,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1502723028,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 5: Code-Review+1 Integration-Approval+1\n\n(5 comments)\n\nLGTM but for minor questions and some (C) updates"},{"timestamp":1503397111,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 6."},{"timestamp":1503397152,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1503418626,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1\n\nLooks correct with the new VError way to check for Moray Errors"},{"timestamp":1503436935,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Marsell Kukuljevic"}],"currentPatchSet":{"number":"6","revision":"321b088ab496700694aa2cc06a903ce01ff37784","parents":["19b94f42dc0afb011a15a03e0659a9d99d2c9062"],"ref":"refs/changes/27/2227/6","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1503397111,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1503397152,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1503418626,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1503418626,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1503436935,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":24,"deletions":-20},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"boot/configure.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/amon.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/notes.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdc-clients.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/servers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/sessions.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"lib/settings.js","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"package.json","type":"MODIFIED","insertions":12,"deletions":-28},{"file":"test/jsx-preprocessor.js","type":"DELETED","insertions":0,"deletions":-18},{"file":"tools/build-js","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"tools/devrun.sh","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/mk/Makefile.smf.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/npmfreeze.js","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"www/js/components/__tests__/user-tile-test.js","type":"DELETED","insertions":0,"deletions":-27}],"sizeInsertions":89,"sizeDeletions":-133},"patchSets":[{"number":"1","revision":"adb8ef8ee4ec2426569e13ee89d284dc0622ab60","parents":["08d401e83000ed52f993415db916928b4ebebe37"],"ref":"refs/changes/27/2227/1","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1500377043,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1500377069,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-19},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"boot/configure.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/amon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/sdc-clients.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/servers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":13,"deletions":-18},{"file":"tools/build-js","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"tools/devrun.sh","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/mk/Makefile.smf.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/npmfreeze.js","type":"MODIFIED","insertions":6,"deletions":-4}],"sizeInsertions":70,"sizeDeletions":-61},{"number":"2","revision":"ff2b7234979d0e21ac1a3529d88d4e0acb24b7aa","parents":["08d401e83000ed52f993415db916928b4ebebe37"],"ref":"refs/changes/27/2227/2","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1501065348,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1501065374,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":23,"deletions":-19},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"boot/configure.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/amon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/sdc-clients.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/servers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"package.json","type":"MODIFIED","insertions":12,"deletions":-29},{"file":"test/jsx-preprocessor.js","type":"DELETED","insertions":0,"deletions":-18},{"file":"tools/build-js","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"tools/devrun.sh","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/mk/Makefile.smf.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/npmfreeze.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"www/js/components/__tests__/user-tile-test.js","type":"DELETED","insertions":0,"deletions":-27}],"sizeInsertions":69,"sizeDeletions":-117},{"number":"3","revision":"9fcbc2bb305f0d780e24e9285cc54ea6eab0f723","parents":["08d401e83000ed52f993415db916928b4ebebe37"],"ref":"refs/changes/27/2227/3","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1502104598,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1502104631,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1502343913,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":24,"deletions":-20},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"boot/configure.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/amon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/sdc-clients.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/servers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/sessions.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":12,"deletions":-28},{"file":"test/jsx-preprocessor.js","type":"DELETED","insertions":0,"deletions":-18},{"file":"tools/build-js","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"tools/devrun.sh","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/mk/Makefile.smf.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/npmfreeze.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"www/js/components/__tests__/user-tile-test.js","type":"DELETED","insertions":0,"deletions":-27}],"sizeInsertions":73,"sizeDeletions":-119},{"number":"4","revision":"a31c4bf2651ccbe09a8783436f51c9a4898f317b","parents":["08d401e83000ed52f993415db916928b4ebebe37"],"ref":"refs/changes/27/2227/4","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1502365873,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1502104631,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1502343913,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":24,"deletions":-20},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"boot/configure.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/amon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/sdc-clients.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/servers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/sessions.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":12,"deletions":-28},{"file":"test/jsx-preprocessor.js","type":"DELETED","insertions":0,"deletions":-18},{"file":"tools/build-js","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"tools/devrun.sh","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/mk/Makefile.smf.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/npmfreeze.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"www/js/components/__tests__/user-tile-test.js","type":"DELETED","insertions":0,"deletions":-27}],"sizeInsertions":73,"sizeDeletions":-119},{"number":"5","revision":"bb9279e1d46cbd3b5f35c6e68f722e65f891ca2e","parents":["250077dfedf478e242088dba85578158b33236bc"],"ref":"refs/changes/27/2227/5","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1502711866,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1502104631,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1502723028,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1502723028,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1502343913,"by":{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"}}],"comments":[{"file":"lib/amon.js","line":8,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"It would be good to update (C) to this year, though"},{"file":"lib/sdc-clients.js","line":8,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Ditto"},{"file":"lib/servers.js","line":12,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Geez, how long has AdminUI been w/o an update?. Btw, (C) here too, and in all the modified files."},{"file":"lib/sessions.js","line":63,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Shouldn\u0027t this use \"FindCauseByName\"? Are we updating to new moray?, on a different issue?"},{"file":"lib/sessions.js","line":82,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Same questions for all the moray errors than above."}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":24,"deletions":-20},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"boot/configure.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/amon.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/sdc-clients.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/servers.js","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"lib/sessions.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"package.json","type":"MODIFIED","insertions":12,"deletions":-28},{"file":"test/jsx-preprocessor.js","type":"DELETED","insertions":0,"deletions":-18},{"file":"tools/build-js","type":"MODIFIED","insertions":14,"deletions":-7},{"file":"tools/devrun.sh","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/mk/Makefile.smf.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/npmfreeze.js","type":"MODIFIED","insertions":6,"deletions":-4},{"file":"www/js/components/__tests__/user-tile-test.js","type":"DELETED","insertions":0,"deletions":-27}],"sizeInsertions":73,"sizeDeletions":-119},{"number":"6","revision":"321b088ab496700694aa2cc06a903ce01ff37784","parents":["19b94f42dc0afb011a15a03e0659a9d99d2c9062"],"ref":"refs/changes/27/2227/6","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1503397111,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1503397152,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1503418626,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1503418626,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1503436935,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":9,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"Makefile","type":"MODIFIED","insertions":24,"deletions":-20},{"file":"README.md","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"boot/configure.sh","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/amon.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/notes.js","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"lib/sdc-clients.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/servers.js","type":"MODIFIED","insertions":2,"deletions":-2},{"file":"lib/sessions.js","type":"MODIFIED","insertions":5,"deletions":-4},{"file":"lib/settings.js","type":"MODIFIED","insertions":6,"deletions":-5},{"file":"package.json","type":"MODIFIED","insertions":12,"deletions":-28},{"file":"test/jsx-preprocessor.js","type":"DELETED","insertions":0,"deletions":-18},{"file":"tools/build-js","type":"MODIFIED","insertions":15,"deletions":-8},{"file":"tools/devrun.sh","type":"MODIFIED","insertions":5,"deletions":-5},{"file":"tools/mk/Makefile.smf.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/mk/Makefile.targ","type":"MODIFIED","insertions":1,"deletions":-1},{"file":"tools/npmfreeze.js","type":"MODIFIED","insertions":7,"deletions":-5},{"file":"www/js/components/__tests__/user-tile-test.js","type":"DELETED","insertions":0,"deletions":-27}],"sizeInsertions":89,"sizeDeletions":-133}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Angela Fong","email":"angela.fong@joyent.com","username":"askfongjojo"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}]}