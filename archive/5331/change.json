{"project":"joyent/sdc-cn-agent","branch":"master","id":"I495ee9fd795aff0134ac6b5d99ee3f9fa0dca126","number":"5331","subject":"TRITON-821 Remove \"CN Agent IP\" and use \"Admin IP\" in CNAPI and CMON TRITON-870 cn-agent admin IP functions need to be factored out Reviewed by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e Reviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e Approved by: Orlando","owner":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"url":"https://cr.joyent.us/5331","commitMessage":"TRITON-821 Remove \"CN Agent IP\" and use \"Admin IP\" in CNAPI and CMON\nTRITON-870 cn-agent admin IP functions need to be factored out\nReviewed by: Pedro Palazón Candel \u003cpedro@joyent.com\u003e\nReviewed by: Orlando Vazquez \u003corlando@joyent.com\u003e\nApproved by: Orlando Vazquez \u003corlando@joyent.com\u003e\n","createdOn":1546984532,"lastUpdated":1547747504,"open":false,"status":"MERGED","comments":[{"timestamp":1546984532,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 1."},{"timestamp":1546984562,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1547047317,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 2."},{"timestamp":1547047346,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1547063182,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 3."},{"timestamp":1547063211,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1547065399,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 4."},{"timestamp":1547065428,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1547066018,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 5."},{"timestamp":1547066048,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1547149910,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 6."},{"timestamp":1547149940,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1547658672,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 6: Code-Review+1\n\nCode LGTM Rui. How\u0027re we testing this?"},{"timestamp":1547660920,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Patch Set 6:\n\nHi Pedro.  I ran the cnapi test suite (see Jira Issues), and this is also running on my RAN setup without issue.  I also have mockcloud deployed, which is running fine (sdc-server etc) but I\u0027m also working on additional tests there for TRITON-922."},{"timestamp":1547746336,"reviewer":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},"message":"Patch Set 6: Code-Review+1 Integration-Approval+1"},{"timestamp":1547747477,"reviewer":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"message":"Uploaded patch set 7: Commit message was updated."},{"timestamp":1547747504,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Rui"}],"currentPatchSet":{"number":"7","revision":"495ee9fd795aff0134ac6b5d99ee3f9fa0dca126","parents":["a362006e2748e5d62253fa5d53c51d213c68b4eb"],"ref":"refs/changes/31/5331/7","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547747477,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547149940,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1547658672,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1547746336,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1547746336,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1547747504,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":6,"deletions":-16},{"file":"lib/backends/dummy/tools/run-servers.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"lib/backends/smartos/smartdc-config.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-51},"patchSets":[{"number":"1","revision":"9623236413135687aa972044ed25d23c01b230c2","parents":["36f982828aedb36759c9c8c8a97a4b0741540a0f"],"ref":"refs/changes/31/5331/1","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1546984532,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1546984562,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":3,"deletions":-3},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":5,"deletions":-15},{"file":"lib/backends/dummy/tools/run-servers.js","type":"MODIFIED","insertions":3,"deletions":-11},{"file":"lib/backends/smartos/smartdc-config.js","type":"MODIFIED","insertions":6,"deletions":-16}],"sizeInsertions":17,"sizeDeletions":-45},{"number":"2","revision":"caa6baf29374e98356dd73ee20e8b793b1d6ef3b","parents":["36f982828aedb36759c9c8c8a97a4b0741540a0f"],"ref":"refs/changes/31/5331/2","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547047317,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547047346,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":6,"deletions":-16},{"file":"lib/backends/dummy/tools/run-servers.js","type":"MODIFIED","insertions":4,"deletions":-12},{"file":"lib/backends/smartos/smartdc-config.js","type":"MODIFIED","insertions":7,"deletions":-17}],"sizeInsertions":21,"sizeDeletions":-49},{"number":"3","revision":"eb12ade135a09cefc9eec56bf5418410edee3374","parents":["36f982828aedb36759c9c8c8a97a4b0741540a0f"],"ref":"refs/changes/31/5331/3","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547063182,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547063211,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":6,"deletions":-16},{"file":"lib/backends/dummy/tools/run-servers.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"lib/backends/smartos/smartdc-config.js","type":"MODIFIED","insertions":7,"deletions":-17}],"sizeInsertions":30,"sizeDeletions":-50},{"number":"4","revision":"3756e97014df91b14acb375cef9e4e25e381f7d6","parents":["36f982828aedb36759c9c8c8a97a4b0741540a0f"],"ref":"refs/changes/31/5331/4","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547065399,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547065428,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":6,"deletions":-16},{"file":"lib/backends/dummy/tools/run-servers.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"lib/backends/smartos/smartdc-config.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"package.json","type":"MODIFIED","insertions":1,"deletions":0}],"sizeInsertions":31,"sizeDeletions":-50},{"number":"5","revision":"3d4d1c83ae3c0949e3149b3f2151845a21ac505f","parents":["36f982828aedb36759c9c8c8a97a4b0741540a0f"],"ref":"refs/changes/31/5331/5","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547066018,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547066048,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":6,"deletions":-16},{"file":"lib/backends/dummy/tools/run-servers.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"lib/backends/smartos/smartdc-config.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-51},{"number":"6","revision":"a0376ca9bbd3049ff39ba41b7a50093cc2f3cc69","parents":["a362006e2748e5d62253fa5d53c51d213c68b4eb"],"ref":"refs/changes/31/5331/6","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547149910,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547149940,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1547658672,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1547746336,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1547746336,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":6,"deletions":-16},{"file":"lib/backends/dummy/tools/run-servers.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"lib/backends/smartos/smartdc-config.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-51},{"number":"7","revision":"495ee9fd795aff0134ac6b5d99ee3f9fa0dca126","parents":["a362006e2748e5d62253fa5d53c51d213c68b4eb"],"ref":"refs/changes/31/5331/7","uploader":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"createdOn":1547747477,"author":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1547149940,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1547658672,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1547746336,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1547746336,"by":{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"}},{"type":"SUBM","value":"1","grantedOn":1547747504,"by":{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":11,"deletions":0},{"file":"lib/app.js","type":"MODIFIED","insertions":4,"deletions":-4},{"file":"lib/backends/dummy/index.js","type":"MODIFIED","insertions":6,"deletions":-16},{"file":"lib/backends/dummy/tools/run-servers.js","type":"MODIFIED","insertions":13,"deletions":-13},{"file":"lib/backends/smartos/smartdc-config.js","type":"MODIFIED","insertions":7,"deletions":-17},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1}],"sizeInsertions":32,"sizeDeletions":-51}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Orlando Vazquez","email":"orlando@joyent.com","username":"orlandov"},{"name":"Rui Loura","email":"rui@joyent.com","username":"rjloura"},{"name":"Josh Wilsdon","email":"josh@wilsdon.ca","username":"joshwilsdon"}]}