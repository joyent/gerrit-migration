{"project":"joyent/sdc-designation","branch":"master","id":"Ie5eec6be45e5b3ddacc2c5fcb0c8b0f8c864af2d","number":"524","subject":"DAPI-325: Allow dapi to load VM data from external services. Reviewed by: Pedro P. Candel \u003cpedro@joyent.com\u003e","owner":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"url":"https://cr.joyent.us/524","commitMessage":"DAPI-325: Allow dapi to load VM data from external services.\nReviewed by: Pedro P. Candel \u003cpedro@joyent.com\u003e\n","createdOn":1474639118,"lastUpdated":1482389472,"open":false,"status":"MERGED","comments":[{"timestamp":1474639118,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 1."},{"timestamp":1474639171,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 1: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475228732,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 2."},{"timestamp":1475228792,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 2: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475229734,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 3."},{"timestamp":1475229783,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 3: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1475232286,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 4."},{"timestamp":1475232321,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 4: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1477301995,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 5: Patch Set 4 was rebased."},{"timestamp":1477302036,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 5:\n\n\"make check\" passed ok"},{"timestamp":1479360487,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 6."},{"timestamp":1479360522,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 6: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1479360735,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 7."},{"timestamp":1479360759,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 7: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1479372901,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 8."},{"timestamp":1479372932,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 8: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1480499968,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 9."},{"timestamp":1480500003,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 9: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1481906442,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 9:\n\n(6 comments)\n\nApart of some minor missing assertions, concerns here are regarding the usage of tabs of different length and the nonsensical \"always return a value\" lint rule. Let\u0027s discuss that if you think it\u0027s reasonable or, even better, get rid of it!"},{"timestamp":1482235828,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 10."},{"timestamp":1482235843,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 9:\n\n(2 comments)"},{"timestamp":1482235863,"reviewer":{"name":"Joyent Automation","username":"joyent-automation"},"message":"Patch Set 10: CI-Testing+1\n\n\"make check\" passed ok"},{"timestamp":1482236033,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Patch Set 9:\n\n\u003e Apart of some minor missing assertions, concerns here are regarding\n \u003e the usage of tabs of different length and the nonsensical \"always\n \u003e return a value\" lint rule. Let\u0027s discuss that if you think it\u0027s\n \u003e reasonable or, even better, get rid of it!\n\nI don\u0027t have a strong feeling about this. In normal code it\u0027d be useful, but in callback heavy code...?"},{"timestamp":1482236077,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Uploaded patch set 11: Commit message was updated."},{"timestamp":1482337745,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Patch Set 11: Code-Review+1 Integration-Approval+1\n\nYeah, has sense to do not mess with tabs/spaces again.\n\nRegarding the return thing, I\u0027m just moving myself to just \"call the callback, then call return only when I need to break execution of the current function on that point\".\n\nI think we moved most of the stuff to node-uuid right after the move of everything from node-uuid to libuuid. Nowadays I think there\u0027s some module just called \"uuid\" which is the replacement of node-uuid. I\u0027ll let you know next time I hit it, since I\u0027d say the change should be its own issue"},{"timestamp":1482389472,"reviewer":{"name":"Gerrit Code Review","email":"no-reply@cr.joyent.us"},"message":"Change has been successfully merged by Marsell Kukuljevic"}],"currentPatchSet":{"number":"11","revision":"e5eec6be45e5b3ddacc2c5fcb0c8b0f8c864af2d","parents":["2bfdca6ac46fa8b5d0ec05c88414d7ecb4ee8d42"],"ref":"refs/changes/24/524/11","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1482236077,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482235863,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1482337745,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1482337745,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1482389472,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":41,"deletions":-9},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/common.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":105,"deletions":-15},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":137,"deletions":0},{"file":"test/algorithms/override-overprovisioning.test.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":23,"deletions":-12},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":641,"sizeDeletions":-197},"patchSets":[{"number":"1","revision":"c098972602d514500ecf0f010f48468fefc20d54","parents":["d8d5616caa9e546cfbb4b4df21ce69f321af5192"],"ref":"refs/changes/24/524/1","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1474639118,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1474639171,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":98,"deletions":-7},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":138,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":567,"sizeDeletions":-164},{"number":"2","revision":"6975a24435a83119a9fafb123160c48618584940","parents":["d8d5616caa9e546cfbb4b4df21ce69f321af5192"],"ref":"refs/changes/24/524/2","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1475228732,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475228792,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":98,"deletions":-7},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":138,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":568,"sizeDeletions":-165},{"number":"3","revision":"70e56fc6861c45e8ff2a8223d88918b4b707b974","parents":["d8d5616caa9e546cfbb4b4df21ce69f321af5192"],"ref":"refs/changes/24/524/3","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1475229734,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475229783,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":98,"deletions":-7},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":138,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":568,"sizeDeletions":-165},{"number":"4","revision":"ca3b0246c39f5611b2fc5351811aaf154280bb2d","parents":["d8d5616caa9e546cfbb4b4df21ce69f321af5192"],"ref":"refs/changes/24/524/4","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1475232286,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475232321,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":98,"deletions":-7},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":138,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":572,"sizeDeletions":-166},{"number":"5","revision":"69d11960f7e7af05d9599d6052115508c07f0fcc","parents":["3a81512e3effc3317f92a188471c9c1c54dade25"],"ref":"refs/changes/24/524/5","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1477301995,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1475232321,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":3,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":98,"deletions":-7},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":138,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":572,"sizeDeletions":-166},{"number":"6","revision":"91c5afeb3e7df6ba37c6067f8418b7e700d97067","parents":["028e47515bb4961c6ca9435f77b8d85f74b21658"],"ref":"refs/changes/24/524/6","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1479360487,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1479360522,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":16,"deletions":-10},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/common.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":105,"deletions":-15},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":137,"deletions":0},{"file":"test/algorithms/override-overprovisioning.test.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":582,"sizeDeletions":-174},{"number":"7","revision":"401b12cd7c5ad0d454f32dedbc37f380cbc81f4a","parents":["028e47515bb4961c6ca9435f77b8d85f74b21658"],"ref":"refs/changes/24/524/7","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1479360735,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1479360759,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":4,"deletions":0},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/common.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":105,"deletions":-15},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":137,"deletions":0},{"file":"test/algorithms/override-overprovisioning.test.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":584,"sizeDeletions":-176},{"number":"8","revision":"7ce0904eb9c24b6e8fa11f36cc1986e302d47c40","parents":["028e47515bb4961c6ca9435f77b8d85f74b21658"],"ref":"refs/changes/24/524/8","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1479372901,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1479372932,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/common.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":105,"deletions":-15},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":137,"deletions":0},{"file":"test/algorithms/override-overprovisioning.test.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":590,"sizeDeletions":-182},{"number":"9","revision":"27e6888ef55ace0ee067d7aa54e8935d44c668c0","parents":["96e30943385c535f082f1e32b47cb61090a23482"],"ref":"refs/changes/24/524/9","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1480499968,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1480500003,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"comments":[{"file":"bin/sim.js","line":46,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Looks like tabs are not the same length here? Honestly, I fucking got rid of them into a javascript project and just replace with spaces. Otherwise, I\u0027d just used them of the same length"},{"file":"bin/sim.js","line":46,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"Once upon a time, everything was in spaces. Then Keith went and replaced _everything_ with tabs, basically ruining git blame. gg keith\n\nAnyway, as much as I don\u0027t like tabs, I don\u0027t feel like doing the same to git blame. :("},{"file":"lib/algorithms/hard-filter-volumes-from.js","line":31,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Shouldn\u0027t we assert that opts.log is an object here? Same for opts.vm below"},{"file":"lib/algorithms/hard-filter-volumes-from.js","line":58,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Just remove the \"return always\" thing if you need to do this kind of superfluous thing. Another option would be to call the return right before loadVmAndFilter and filterByPreloadedVms but, honestly, I\u0027d just got rid of the \"always return a value\" nonsense. Our asynchronous functions aren\u0027t returning values at all, but calls to other functions"},{"file":"lib/algorithms/load-server-vms.js","line":78,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"If you get rid of the return lint nonsensical rule, remember this one!"},{"file":"package.json","line":10,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"I\u0027d give a try to bumping the libuuid version at some point. It\u0027s very outdated for node v4"},{"file":"package.json","line":10,"reviewer":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"message":"0.2.1 is the one that works with v4, and we use it a bunch of other places too.\n\nI don\u0027t mind switching to a different uuid, particularly since it\u0027s only used in some tests. I\u0027d prefer to switch to one that we as an org are switching though to?"},{"file":"test/algorithms/override-overprovisioning.test.js","line":119,"reviewer":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},"message":"Take advantage of this tiny change and update the (C) notice! ;-)"}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":7,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":10,"deletions":-6},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/common.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":105,"deletions":-15},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":137,"deletions":0},{"file":"test/algorithms/override-overprovisioning.test.js","type":"MODIFIED","insertions":1,"deletions":0},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":4,"deletions":-1},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":590,"sizeDeletions":-182},{"number":"10","revision":"84b974da6d32697db4a1a10045b9d6fdaabcb060","parents":["2bfdca6ac46fa8b5d0ec05c88414d7ecb4ee8d42"],"ref":"refs/changes/24/524/10","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1482235828,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482235863,"by":{"name":"Joyent Automation","username":"joyent-automation"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":41,"deletions":-9},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/common.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":105,"deletions":-15},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":137,"deletions":0},{"file":"test/algorithms/override-overprovisioning.test.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":23,"deletions":-12},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":641,"sizeDeletions":-197},{"number":"11","revision":"e5eec6be45e5b3ddacc2c5fcb0c8b0f8c864af2d","parents":["2bfdca6ac46fa8b5d0ec05c88414d7ecb4ee8d42"],"ref":"refs/changes/24/524/11","uploader":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"createdOn":1482236077,"author":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"},"isDraft":false,"kind":"NO_CODE_CHANGE","approvals":[{"type":"CI-Testing","description":"CI-Testing","value":"1","grantedOn":1482235863,"by":{"name":"Joyent Automation","username":"joyent-automation"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1482337745,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"Integration-Approval","description":"Integration-Approval","value":"1","grantedOn":1482337745,"by":{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"}},{"type":"SUBM","value":"1","grantedOn":1482389472,"by":{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}}],"files":[{"file":"/COMMIT_MSG","type":"ADDED","insertions":8,"deletions":0},{"file":".gitignore","type":"MODIFIED","insertions":1,"deletions":0},{"file":"bin/sim.js","type":"MODIFIED","insertions":18,"deletions":-12},{"file":"docs/index.md","type":"MODIFIED","insertions":1,"deletions":0},{"file":"lib/algorithms/hard-filter-volumes-from.js","type":"MODIFIED","insertions":113,"deletions":-23},{"file":"lib/algorithms/load-server-vms.js","type":"ADDED","insertions":96,"deletions":0},{"file":"lib/allocator.js","type":"MODIFIED","insertions":41,"deletions":-9},{"file":"package.json","type":"MODIFIED","insertions":3,"deletions":-2},{"file":"test/algorithms/common.js","type":"MODIFIED","insertions":2,"deletions":0},{"file":"test/algorithms/hard-filter-volumes-from.test.js","type":"MODIFIED","insertions":105,"deletions":-15},{"file":"test/algorithms/load-server-vms.test.js","type":"ADDED","insertions":137,"deletions":0},{"file":"test/algorithms/override-overprovisioning.test.js","type":"MODIFIED","insertions":2,"deletions":-1},{"file":"test/allocator.test.js","type":"MODIFIED","insertions":23,"deletions":-12},{"file":"test/common.js","type":"MODIFIED","insertions":12,"deletions":-6},{"file":"test/integration.test.js","type":"MODIFIED","insertions":87,"deletions":-117}],"sizeInsertions":641,"sizeDeletions":-197}],"allReviewers":[{"name":"Joyent Automation","username":"joyent-automation"},{"name":"Pedro Palazón Candel","email":"pedro@joyent.com","username":"kusor"},{"name":"Marsell Kukuljevic","email":"marsell@joyent.com","username":"marsell"}]}